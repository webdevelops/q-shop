(this["webpackJsonpquick-shop"]=this["webpackJsonpquick-shop"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(31),l=a(72),s=a(73),u=a(13),m=a(163),p=a(164),d=a(165),f=a(10),E=a(16),g={token:null},h=a(24),b=[],v={ids:[],value:"",loading:!1},y={id:null},k=[],O=[],S=Object(i.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"AUTH_SUCCESS":return Object(E.a)({},e,{token:n});case"AUTH_LOGOUT":return Object(E.a)({},e,{token:null});default:return e}},phones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PHONES_SUCCESS":return n;case"LOAD_MORE_PHONES_SUCCESS":return[].concat(Object(h.a)(e),Object(h.a)(n));case"FETCH_PHONE_BY_ID_SUCCESS":var r=e.find((function(e){return e.id===n.id}));return r?[].concat(Object(h.a)(e),[r]):[n];default:return e}},phonesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PHONES_REQUEST":return Object(E.a)({},e,{loading:!0});case"FETCH_PHONES_SUCCESS":var r=n.map((function(e){return e.id}));return Object(E.a)({},e,{ids:r,loading:!1});case"LOAD_MORE_PHONES_SUCCESS":var c=n.map((function(e){return e.id})),o=[].concat(Object(h.a)(e.ids),Object(h.a)(c));return Object(E.a)({},e,{ids:o});case"SEARCH_PHONE":return Object(E.a)({},e,{value:n});default:return e}},phonePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PHONE_BY_ID_SUCCESS":return Object(E.a)({},e,{id:n.id});default:return e}},basket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_PHONE_TO_BASKET":return[].concat(Object(h.a)(e),[n]);case"DELETE_PHONE_FROM_BASKET":return e.filter((function(e){return e!==n}));case"CLEAN_BASKET":return k;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_CATEGORIES_SUCCESS":return n;default:return e}}}),_=a(86),j=a(168),C=a(141),T=a(57),x=Object(_.a)({palette:{primary:{main:C.a[800]},secondary:{main:T.a[500]}}}),N=x=Object(j.a)(x),w=a(38),P=a(142),I=a(35),B=a(58),H=a(145),A=a(166),U=a(111),D=a(147),R=a(42),L=a.n(R),F=a(54),M=a.n(F),W=(a(61),Object(P.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#63bdf1",position:"fixed",minWidth:320,left:0,right:0},form:{display:"flex",flexDirection:"column",background:e.palette.background.paper,padding:e.spacing(3),borderRadius:e.spacing(.6),minWidth:e.spacing(30)},header:{marginBottom:e.spacing(2.5),"& h4":{fontWeight:"bold"}},formControl:{display:"flex",alignItems:"center",marginBottom:e.spacing(1.2),"& svg":{marginTop:e.spacing(3),marginRight:e.spacing(1.2),opacity:.5}},button:{marginTop:e.spacing(4)},recovery:{marginTop:e.spacing(1.2)}}}))),z=a(7),q=a.n(z),Q=a(19),K="https://my-project-1559841200510.firebaseio.com/phones/.json",Y="https://my-project-1559841200510.firebaseio.com/categories/.json",$="AIzaSyCpUApD9K5SMQxiiDCLUIvnbclYf1yiyVc",G="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat($),J="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat($),V=function(){var e=Object(Q.a)(q.a.mark((function e(t,a,n){var r,c,o,i,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?J:G,c={email:t,password:a,returnSecureToken:!0},e.next=4,fetch(r,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 4:return o=e.sent,e.next=7,o.json();case 7:if(i=e.sent,l=new Date((new Date).getTime()+1e3*i.expiresIn),localStorage.setItem("token",i.idToken),localStorage.setItem("user",i.localId),localStorage.setItem("expirationDate",l),!i.error){e.next=14;break}return e.abrupt("return",i);case 14:return e.abrupt("return",{idToken:i.idToken,expiresIn:i.expiresIn});case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(Q.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",Object.values(n)[0]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(Q.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(K);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(Q.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(K);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(Q.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(Y);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(Q.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(K);case 2:return a=e.sent,e.abrupt("return",a.find((function(e){return e.id===t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e,t,a){return function(){var n=Object(Q.a)(q.a.mark((function n(r){var c;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"AUTH_REQUEST"}),n.prev=1,n.next=4,V(e,t,a);case 4:(c=n.sent).error&&alert(c.error.message),r(re(c.idToken)),r(ce(1e3*c.expiresIn)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r({type:"AUTH_FAILURE",payload:n.t0,error:!0});case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},re=function(e){return{type:"AUTH_SUCCESS",payload:e}},ce=function(e){return function(t){var a=setTimeout((function(){t(oe()),clearTimeout(a)}),e)}},oe=function(){return localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},ie=function(e,t,a){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toString().toLowerCase())&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.samePassword&&(n=e===a&&n),n},le=function(e,t){return e.phones.find((function(e){return e.id===t}))},se=function(e,t){var a=t.match.params.id||void 0;return e.phonesPage.ids.map((function(t){return le(e,t)})).filter((function(t){return t.name.toLowerCase().indexOf(e.phonesPage.value.toLowerCase())>-1})).filter((function(e){return void 0===a||a===e.categoryId}))},ue=function(e){return e.basket.length},me=function(e){return e.basket.map((function(t){return le(e,t)})).map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)},pe=function(e){var t=Object(h.a)(new Set(e.basket));return t.map((function(t){return le(e,t)})).map((function(t){return Object(E.a)({},t,{count:(a=t.id,e.basket.filter((function(e){return e===a})).length)});var a}))},de={auth:ne},fe=Object(u.b)(null,de)((function(e){var t=e.auth,a=W(),c=Object(n.useState)({email:{type:"email",label:"Email",value:"",valid:!1,touched:!1,errorMessage:"Enter correct email.",validation:{required:!0,email:!0}},password:{type:"password",label:"Password",value:"",valid:!1,touched:!1,errorMessage:"At least 6 characters.",validation:{required:!0,minLength:6}}}),o=Object(I.a)(c,2),i=o[0],l=o[1],s=function(e){return function(t){var a=Object(E.a)({},i),n=a[e];n.value=t.target.value,n.touched=!0,n.valid=ie(n.value,n.validation),l(a)}},u=r.a.createElement("div",{className:a.header},r.a.createElement(B.a,{variant:"h4",color:"primary"},"Sign In"),r.a.createElement(B.a,{variant:"h4",color:"secondary"},"Sign Up"));return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,{elevation:3},r.a.createElement("form",{className:a.form},u,Object.keys(i).map((function(e,t){var n=i[e],c=!n.valid&&n.touched,o=c?n.errorMessage||"Incorrect entry.":"",l=null;switch(e){case"email":l=r.a.createElement(L.a,{fontSize:"small"});break;case"password":l=r.a.createElement(M.a,{fontSize:"small"});break;default:l=null}return r.a.createElement(H.a,{container:!0,key:t,className:a.formControl},r.a.createElement(H.a,{item:!0},l),r.a.createElement(H.a,{item:!0},r.a.createElement(A.a,{id:e+t,type:n.type,label:n.label,value:n.value,error:c,helperText:o,onChange:s(e)})))})),r.a.createElement(f.b,{to:"/recovery",className:"form__link"},"Forgot password?"),r.a.createElement(D.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){return t(i.email.value,i.password.value,!0)}},"Sign In"),r.a.createElement(f.b,{to:"/sign-in",className:"form__link form__link_policy"},"Privacy Policy"),r.a.createElement(f.b,{to:"/",className:"form__link form__link_cancel"},"Cancel"))))})),Ee=a(79),ge=a.n(Ee),he={auth:ne},be=Object(u.b)(null,he)((function(e){var t=e.auth,a=W(),c=Object(n.useState)({email:{type:"email",label:"Email",value:"",valid:!1,touched:!1,errorMessage:"Enter correct email.",validation:{required:!0,email:!0}},password:{type:"password",label:"Password",value:"",valid:!1,touched:!1,errorMessage:"At least 6 characters.",validation:{required:!0,minLength:6}},verifyPassword:{type:"password",label:"Verify Password",value:"",valid:!1,touched:!1,errorMessage:"Enter correct password.",validation:{required:!0,samePassword:!0}}}),o=Object(I.a)(c,2),i=o[0],l=o[1],s=function(e){return function(t){var a=Object(E.a)({},i),n=a[e];n.value=t.target.value,n.touched=!0,n.valid=ie(n.value,n.validation,i.password.value),l(a)}},u=r.a.createElement("div",{className:a.header},r.a.createElement(B.a,{variant:"h4",color:"secondary"},"Sign In"),r.a.createElement(B.a,{variant:"h4",color:"primary"},"Sign Up"));return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,{elevation:3},r.a.createElement("form",{className:a.form},u,Object.keys(i).map((function(e,t){var n=i[e],c=!n.valid&&n.touched,o=c?n.errorMessage||"Incorrect entry.":"",l=null;switch(e){case"email":l=r.a.createElement(L.a,{fontSize:"small"});break;case"password":l=r.a.createElement(M.a,{fontSize:"small"});break;case"verifyPassword":l=r.a.createElement(ge.a,{fontSize:"small"});break;default:l=null}return r.a.createElement(H.a,{container:!0,key:t,className:a.formControl},r.a.createElement(H.a,{item:!0},l),r.a.createElement(H.a,{item:!0},r.a.createElement(A.a,{id:e+t,type:n.type,label:n.label,value:n.value,error:c,helperText:o,onChange:s(e)})))})),r.a.createElement(D.a,{variant:"contained",color:"primary",className:a.button,onClick:function(){return t(i.email.value,i.password.value,!1)}},"Sign Up"),r.a.createElement(f.b,{to:"/sign-up",className:"form__link form__link_policy"},"Privacy Policy"),r.a.createElement(f.b,{to:"/",className:"form__link form__link_cancel"},"Cancel"))))})),ve=function(){var e=W(),t=Object(n.useState)({email:{type:"email",label:"Email",value:"",valid:!1,touched:!1,errorMessage:"Enter correct email.",validation:{required:!0,email:!0}}}),a=Object(I.a)(t,2),c=a[0],o=a[1],i=function(e){return function(t){var a=Object(E.a)({},c),n=a[e];n.value=t.target.value,n.touched=!0,n.valid=ie(n.value,n.validation),o(a)}};return r.a.createElement("div",{className:e.root},r.a.createElement(U.a,{elevation:3},r.a.createElement("form",{className:e.form},r.a.createElement("div",{className:e.header},r.a.createElement(B.a,{variant:"h4",color:"primary"},"Recovery")),Object.keys(c).map((function(t,a){var n=c[t],o=!n.valid&&n.touched,l=o?n.errorMessage||"Incorrect entry.":"";return r.a.createElement(H.a,{container:!0,className:e.formControl,key:a},r.a.createElement(H.a,{item:!0},r.a.createElement(L.a,{fontSize:"small"})),r.a.createElement(H.a,{item:!0},r.a.createElement(A.a,{id:t+a,type:n.type,label:n.label,value:n.value,error:o,helperText:l,onChange:i(t)})))})),r.a.createElement(D.a,{variant:"contained",color:"primary",className:e.recovery},"Recovery"),r.a.createElement(f.b,{to:"/",className:"form__link form__link_cancel"},"Cancel"))))},ye=Object(u.b)(null,(function(e){return{logout:function(){return e(oe())}}}))((function(e){var t=e.logout;return Object(n.useEffect)((function(){t()})),r.a.createElement(w.a,{to:"/"})})),ke=a(18),Oe=a(112),Se=Object(Oe.a)((function(e){var t;return{root:(t={marginTop:e.spacing(2.5)},Object(ke.a)(t,e.breakpoints.up("sm"),{marginTop:e.spacing(4.5)}),Object(ke.a)(t,e.breakpoints.up("lg"),{marginTop:e.spacing(6)}),t),sidebar:Object(ke.a)({display:"block"},e.breakpoints.down("lg"),{marginBottom:e.spacing(4)}),card:Object(ke.a)({},e.breakpoints.down("xs"),{margin:"0 auto"}),loadMore:{display:"flex",justifyContent:"flex-end",width:"100%",margin:e.spacing(4,0,6.5,0)}}})),_e=a(148),je=a(149),Ce=a(152),Te=a(151),xe=a(150),Ne=Object(Oe.a)((function(e){return{root:{marginTop:95},title:{display:"flex",justifyContent:"space-between",alignItems:"baseline","& a":{color:"#007bff",textDecoration:"none","&:hover":{textDecoration:"underline"}},"& span":{fontSize:"1.2rem",fontWeight:"bold"}},link:{color:"#0277bd",textDecoration:"none"}}})),we=function(e){return function(t){t({type:"ADD_PHONE_TO_BASKET",payload:e})}},Pe={addPhoneToBasket:we},Ie=Object(u.b)(null,Pe)((function(e){var t,a=e.phone,n=e.addPhoneToBasket,c=Ne(),o="".concat(a.description.slice(0,61),"...");return r.a.createElement(_e.a,{raised:!0},r.a.createElement(je.a,null,r.a.createElement(xe.a,{component:"img",alt:a.name,src:a.image}),r.a.createElement(Te.a,null,r.a.createElement(B.a,{gutterBottom:!0,variant:"h5",componnet:"h2",className:c.title},r.a.createElement(f.b,{to:"/phones/".concat(a.id)},a.name),r.a.createElement("span",null,"$",a.price)),r.a.createElement(B.a,{variant:"body2",color:"textSecondary",component:"p"},o))),r.a.createElement(Ce.a,null,r.a.createElement(D.a,{color:"primary",onClick:(t=a.id,function(){return n(t)})},"Buy now!"),r.a.createElement(f.b,{to:"/phones/".concat(a.id),className:c.link},r.a.createElement(D.a,{color:"primary"},"Learn More"))))})),Be=a(80),He=a.n(Be),Ae=Object(P.a)({link:{textDecoration:"none",width:"100%","& button":{textTransform:"none"}}}),Ue=Object(u.b)((function(e){return{totalBasketCount:ue(e),totalBasketPrice:me(e)}}))((function(e){var t=e.totalBasketCount,a=e.totalBasketPrice,n=Ae();return r.a.createElement(f.b,{to:"/basket",className:n.link},r.a.createElement(D.a,{startIcon:r.a.createElement(He.a,null),variant:"contained",color:"primary",fullWidth:!0},t," item(s) - $ ",a))})),De=a(153),Re=a(81),Le=a.n(Re),Fe=Object(P.a)((function(e){return{root:{padding:e.spacing(7.5,3),background:e.palette.grey[200],marginBottom:e.spacing(4),"& form":{display:"flex",position:"relative","& > div":{width:"100%"}},"& input":{background:"white"},"& button":{position:"absolute",top:5,right:5}}}})),Me={searchPhone:function(e){return function(t){t({type:"SEARCH_PHONE",payload:e})}}},We=Object(u.b)(null,Me)((function(e){var t=e.searchPhone,a=Fe(),c=Object(n.useState)(""),o=Object(I.a)(c,2),i=o[0],l=o[1];return r.a.createElement("div",{className:a.root},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(i)}},r.a.createElement(A.a,{id:"search",variant:"outlined",label:"Search",value:i,onChange:function(e){return l(e.target.value)}}),r.a.createElement(De.a,{type:"submit","aria-label":"search"},r.a.createElement(Le.a,null))))})),ze=a(154),qe=a(155),Qe=a(146),Ke=Object(P.a)((function(e){return{root:{padding:e.spacing(6.5,3.5,8,3.5),background:e.palette.grey[200],"& nav":{background:e.palette.background.paper,padding:0}},category:{padding:0,"& a":{width:"100%",padding:e.spacing(1,2),textDecoration:"none",color:"inherit"},"& span":{fontSize:"1.3rem"},"&.Mui-selected":{background:[e.palette.primary.main],color:e.palette.background.paper,trnasition:"0.3s","&:hover":{background:[e.palette.primary.main]}}}}})),Ye=Object(w.g)((function(e){var t=e.categories,a=e.match,n=Ke(),c=a.params.id||void 0;return r.a.createElement("div",{className:n.root},r.a.createElement(B.a,{gutterBottom:!0,variant:"h4"},"Brand"),r.a.createElement(Qe.a,{component:"nav"},r.a.createElement(ze.a,{button:!0,divider:!0,selected:void 0===c,className:n.category},r.a.createElement(f.b,{to:"/"},r.a.createElement(qe.a,{primary:"All"}))),t.map((function(e){return r.a.createElement(ze.a,{button:!0,divider:!0,key:e.id,selected:e.id===c,className:n.category},r.a.createElement(f.b,{to:"/categories/".concat(e.id)},r.a.createElement(qe.a,{primary:e.name})))}))))})),$e=a(167),Ge=a(156);function Je(){return r.a.createElement($e.a,{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(Ge.a,{disableShrink:!0}))}var Ve={fetchPhones:function(){return function(){var e=Object(Q.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_PHONES_REQUEST"}),e.prev=1,e.next=4,X();case 4:a=e.sent,t({type:"FETCH_PHONES_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_PHONES_FAILURE",payload:e.t0,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},loadMorePhones:function(){return function(){var e=Object(Q.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOAD_MORE_PHONES_REQUEST"}),e.prev=1,e.next=4,ee();case 4:a=e.sent,t({type:"LOAD_MORE_PHONES_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"LOAD_MORE_PHONES_FAILURE",payload:e.t0,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},fetchCategories:function(){return function(){var e=Object(Q.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_CATEGORIES_REQUEST"}),e.prev=1,e.next=4,te();case 4:a=e.sent,t({type:"FETCH_CATEGORIES_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_CATEGORIES_FAILURE",payload:e.t0,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}},Ze=Object(u.b)((function(e,t){return{phones:se(e,t),categories:e.categories,loading:e.phonesPage.loading}}),Ve)((function(e){var t=e.fetchPhones,a=e.phones,c=e.loadMorePhones,o=e.fetchCategories,i=e.categories,l=e.loading,s=Se();Object(n.useEffect)((function(){t(),o()}),[t,o]);return l?r.a.createElement(Je,null):r.a.createElement("div",{className:s.root},r.a.createElement(H.a,{container:!0,justify:"space-between"},r.a.createElement(H.a,{container:!0,item:!0,md:4,lg:3,className:s.sidebar},r.a.createElement(Ue,null),r.a.createElement(We,null),r.a.createElement(Ye,{categories:i})),r.a.createElement(n.Fragment,null,r.a.createElement(H.a,{container:!0,item:!0,md:8,lg:9,spacing:4,className:s.content},a.map((function(e,t){return function(e,t){return r.a.createElement(H.a,{item:!0,xs:10,sm:6,md:6,lg:4,key:t,className:s.card},r.a.createElement(Ie,{phone:e}))}(e,t)}))),r.a.createElement("div",{className:s.loadMore},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return c()}},"Load More")))))})),Xe=Object(Oe.a)((function(e){var t;return{root:(t={marginTop:e.spacing(2.5)},Object(ke.a)(t,e.breakpoints.up("sm"),{marginTop:e.spacing(4.5)}),Object(ke.a)(t,e.breakpoints.up("lg"),{marginTop:e.spacing(6)}),t),info:{marginBottom:e.spacing(2.5)},image:{maxWidth:e.spacing(38),marginBottom:e.spacing(3.8)},fields:{paddingLeft:e.spacing(1.5)},title:{display:"flex",justifyContent:"space-between",alignItems:"baseline","& span":{fontSize:"1.3rem",fontWeight:"bold"}},field:{display:"flex",alignItems:"center",padding:e.spacing(1.2,0),borderBottom:"1px dotted #ccc","& h6":{marginRight:e.spacing(1.2)}},sidebarTitle:{marginTop:e.spacing(2.5)},backToStore:{margin:e.spacing(2,0),display:"block",textDecoration:"none","& button":{color:e.palette.background.paper,background:e.palette.info.main,trnasition:"0.3s","&:hover":{background:e.palette.info.dark}}},addToBasket:{color:e.palette.background.paper,background:e.palette.success.main,"&:hover":{background:e.palette.success.dark}}}})),et={fetchPhoneById:function(e){return function(){var t=Object(Q.a)(q.a.mark((function t(a){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_PHONE_BY_ID_REQUEST"}),t.prev=1,t.next=4,ae(e);case 4:n=t.sent,a({type:"FETCH_PHONE_BY_ID_SUCCESS",payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"FETCH_PHONE_BY_ID_FAILURE",payload:t.t0,error:!0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},addPhoneToBasket:we},tt=Object(u.b)((function(e){return{phone:le(e,e.phonePage.id)}}),et)((function(e){var t=e.fetchPhoneById,a=e.match,c=e.phone,o=e.addPhoneToBasket,i=Xe();Object(n.useEffect)((function(){t(a.params.id)}));return c?r.a.createElement("div",{className:i.root},r.a.createElement(H.a,{container:!0,spacing:5},r.a.createElement(H.a,{item:!0,xs:12,md:8,lg:9,className:i.contect},c&&r.a.createElement(_e.a,{raised:!0},r.a.createElement(Te.a,null,r.a.createElement(H.a,{container:!0,className:i.info},r.a.createElement(H.a,{item:!0,xs:12,md:6},r.a.createElement(xe.a,{component:"img",src:c.image,alt:c.name,className:i.image})),r.a.createElement(H.a,{item:!0,xs:12,md:6,className:i.fields},Object.keys(c).filter((function(e){return"cpu"===e||"size"===e||"weight"===e||"display"===e||"memory"===e||"battery"===e})).map((function(e){return r.a.createElement("div",{className:i.field,key:e},r.a.createElement(B.a,{variant:"h6"},e),r.a.createElement(B.a,{variant:"body2"},c[e]))})))),r.a.createElement("div",{className:i.title},r.a.createElement(B.a,{gutterBottom:!0,variant:"h4"},c.name),r.a.createElement("span",null,"$",c.price)),r.a.createElement(B.a,{variant:"body1"},c.description)))),r.a.createElement(H.a,{item:!0,xs:12,md:4,lg:3,className:i.sidebar},c&&function(){return r.a.createElement("div",null,r.a.createElement(B.a,{gutterBottom:!0,variant:"h5"},"Quick Shop"),r.a.createElement(Ue,null),r.a.createElement(B.a,{variant:"h4",className:i.sidebarTitle},c.name),r.a.createElement(B.a,{variant:"h4"},"$",c.price),r.a.createElement(f.b,{to:"/",className:i.backToStore},r.a.createElement(D.a,{variant:"contained",fullWidth:!0},"Back to Store")),r.a.createElement(D.a,{variant:"contained",className:i.addToBasket,fullWidth:!0,onClick:(e=c.id,function(){return o(e)})},"Add to Cart"));var e}()))):r.a.createElement(Je,null)})),at=a(85),nt=a.n(at),rt=a(83),ct=a.n(rt),ot=a(84),it=a.n(ot),lt=Object(P.a)((function(e){var t;return{root:(t={marginTop:e.spacing(3)},Object(ke.a)(t,e.breakpoints.up("sm"),{marginTop:e.spacing(4.5)}),Object(ke.a)(t,e.breakpoints.up("lg"),{marginTop:e.spacing(6.5)}),Object(ke.a)(t,"& table tr:nth-of-type(even)",{background:e.palette.grey[100]}),Object(ke.a)(t,"& table td",{padding:e.spacing(.6),border:"1px solid #ccc"}),Object(ke.a)(t,"& table td:last-child",{width:"12%"}),t),image:{width:"12%","& img":{maxWidth:e.spacing(12.5)}},deletePhone:{"&:hover":{color:[e.palette.error.main]}},totalPrice:{display:"flex",justifyContent:"flex-end",margin:e.spacing(2,0),"& b":{marginRight:e.spacing(.6)}},continueShopping:{display:"block",textDecoration:"none",borderRadius:e.spacing(.6),marginBottom:e.spacing(1.2),background:[e.palette.info.main],"&:hover":{background:[e.palette.info.dark]},"& span":{color:e.palette.background.paper}},cleanBasket:{background:[e.palette.error.main],"&:hover":{background:[e.palette.error.dark]},color:e.palette.background.paper,marginBottom:e.spacing(1.2)},checkout:{background:[e.palette.success.main],"&:hover":{background:[e.palette.success.dark]},color:e.palette.background.paper}}})),st=a(157),ut=a(158),mt=a(159),pt=a(160),dt=a(161),ft=a(162),Et=a(82),gt=a.n(Et),ht=function(e){var t=e.phones,a=e.handleRemovePhone,n=lt();return r.a.createElement(st.a,{component:U.a},r.a.createElement(ut.a,{"aria-label":"basket table"},r.a.createElement(mt.a,null),r.a.createElement(pt.a,null,t.map((function(e){return r.a.createElement(dt.a,{key:e.name},r.a.createElement(ft.a,{align:"center",className:n.image},r.a.createElement("img",{src:e.image,alt:e.name})),r.a.createElement(ft.a,{align:"center"},e.name),r.a.createElement(ft.a,{align:"center"},"$",e.price),r.a.createElement(ft.a,{align:"center"},e.count),r.a.createElement(ft.a,{align:"center"},r.a.createElement(De.a,{className:n.deletePhone,onClick:function(){return a(e.id)}},r.a.createElement(gt.a,null))))})))))},bt={handleRemovePhone:function(e){return function(t){t({type:"DELETE_PHONE_FROM_BASKET",payload:e})}},handleCleanBasket:function(){return function(e){e({type:"CLEAN_BASKET"})}},handleCheckout:function(e){return function(){return function(){return alert(JSON.stringify(e))}}}},vt=Object(u.b)((function(e){return{phones:pe(e),totalBasketPrice:me(e)}}),bt)((function(e){var t=e.phones,a=e.totalBasketPrice,c=e.handleRemovePhone,o=e.handleCleanBasket,i=e.handleCheckout,l=lt(),s=r.a.createElement(B.a,{variant:"h4"},"Your shopping cart is empty."),u=r.a.createElement("div",{className:l.totalPrice},r.a.createElement("b",null,"Total:"),"$",a),m=r.a.createElement(n.Fragment,null,r.a.createElement(D.a,{fullWidth:!0,startIcon:r.a.createElement(ct.a,null),className:l.cleanBasket,onClick:o},"Clean Basket"),r.a.createElement(D.a,{fullWidth:!0,startIcon:r.a.createElement(it.a,null),className:l.checkout,onClick:i(t)},"Checkout"));return r.a.createElement("div",{className:l.root},r.a.createElement(H.a,{container:!0,spacing:4},r.a.createElement(H.a,{item:!0,xs:12,md:8,lg:9},0===t.length&&s,r.a.createElement(ht,{phones:t,handleRemovePhone:c}),t.length>0&&u),r.a.createElement(H.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(f.b,{to:"/",className:l.continueShopping},r.a.createElement(D.a,{fullWidth:!0,startIcon:r.a.createElement(nt.a,null)},"Continue shopping!")),t.length>0&&m)))})),yt=Object(P.a)({root:{minWidth:320}}),kt={autoLogin:function(){return function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));if(a<=new Date)e(oe());else{var n=a.getTime()-(new Date).getTime();e(re(t)),e(ce(n))}}else e(oe())}}},Ot=Object(u.b)((function(e){return{isAuthenticated:!!e.auth.token}}),kt)((function(e){var t=e.isAuthenticated,a=e.autoLogin,c=yt();Object(n.useEffect)((function(){a()}));var o=t?r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/logout",component:ye}),r.a.createElement(w.b,{exact:!0,path:"/",component:Ze}),r.a.createElement(w.b,{path:"/phones/:id",component:tt}),r.a.createElement(w.b,{path:"/categories/:id",component:Ze}),r.a.createElement(w.b,{path:"/basket",component:vt}),r.a.createElement(w.a,{to:"/"})):r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/sign-in",component:fe}),r.a.createElement(w.b,{path:"/sign-up",component:be}),r.a.createElement(w.b,{path:"/recovery",component:ve}),r.a.createElement(w.b,{exact:!0,path:"/",component:Ze}),r.a.createElement(w.b,{path:"/phones/:id",component:tt}),r.a.createElement(w.b,{path:"/categories/:id",component:Ze}),r.a.createElement(w.b,{path:"/basket",component:vt}),r.a.createElement(w.a,{to:"/"}));return r.a.createElement("div",{className:c.root},o)})),St=[l.a],_t=Object(i.createStore)(S,Object(s.composeWithDevTools)(i.applyMiddleware.apply(void 0,St)));o.a.render(r.a.createElement(u.a,{store:_t},r.a.createElement(f.a,null,r.a.createElement(m.a,{theme:N},r.a.createElement(p.a,null),r.a.createElement(d.a,{fixed:!0},r.a.createElement(Ot,null))))),document.getElementById("root"))},61:function(e,t,a){},96:function(e,t,a){e.exports=a(108)}},[[96,1,2]]]);
//# sourceMappingURL=main.1b0f5cdc.chunk.js.map