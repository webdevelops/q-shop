{"version":3,"sources":["store/reducers/auth.js","store/reducers/phones.js","store/reducers/phonesPage.js","store/reducers/phonePage.js","store/reducers/basket.js","store/reducers/categories.js","store/reducers/index.js","theme/index.js","containers/auth/authStyles.js","api/index.js","store/actions/authActions.js","store/actions/actionTypes.js","selectors.js","containers/auth/SignIn/index.js","containers/auth/SignUp/index.js","containers/auth/Recovery/index.js","containers/auth/Logout/index.js","containers/Phones/styles.js","components/PhoneCard/styles.js","store/actions/phonesActions.js","components/PhoneCard/index.js","components/BasketCart/index.js","components/Search/index.js","components/Categories/styles.js","components/Categories/index.js","components/Spinner/index.js","containers/Phones/index.js","containers/Phone/styles.js","containers/Phone/index.js","containers/Basket/styles.js","containers/Basket/BasketTable/index.js","containers/Basket/index.js","Routes.js","index.js"],"names":["initialState","token","ids","value","loading","id","combineReducers","auth","state","type","payload","phones","newValue","find","phone","phonesPage","newValues","map","moreValues","phonePage","basket","filter","categories","theme","createMuiTheme","palette","primary","main","lightBlue","secondary","grey","responsiveFontSizes","useStyles","makeStyles","root","display","justifyContent","alignItems","height","background","position","minWidth","left","right","form","flexDirection","paper","padding","spacing","borderRadius","header","marginBottom","fontWeight","formControl","marginTop","marginRight","opacity","button","recovery","phonesURL","categoriesURL","key","signUpURL","signInURL","authApi","email","password","isLogin","a","url","authData","returnSecureToken","fetch","method","body","JSON","stringify","headers","response","json","data","expirationDate","Date","getTime","expiresIn","localStorage","setItem","idToken","localId","error","fetchData","Object","values","fetchPhonesApi","loadMorePhonesApi","fetchCategoriesApi","fetchPhoneByIdApi","dispatch","alert","message","authSuccess","autoLogout","delay","timerId","setTimeout","logout","clearTimeout","removeItem","validateControl","validation","isValid","required","trim","test","toString","toLowerCase","minLength","length","samePassword","getPhoneById","getPhones","activeCategory","match","params","undefined","name","indexOf","categoryId","getTotalBasketCount","getTotalBasketPrice","price","reduce","current","next","getBasketPhonesWithCount","uniqueId","Set","count","basketId","mapDispatchToProps","connect","classes","useState","label","valid","touched","errorMessage","formControls","setFormControls","handleChange","controlName","event","newFormControls","control","target","className","Typography","variant","color","Paper","elevation","keys","index","isInvalid","helperText","icon","fontSize","Grid","container","item","TextField","onChange","to","Button","onClick","verifyPassword","Recovery","useEffect","breakpoints","up","sidebar","down","card","margin","loadMore","width","title","textDecoration","link","addPhoneToBasket","shortDescription","description","slice","Card","raised","CardActionArea","CardMedia","component","alt","src","image","CardContent","gutterBottom","componnet","CardActions","textTransform","totalBasketCount","totalBasketPrice","startIcon","fullWidth","top","searchPhone","setValue","onSubmit","preventDefault","IconButton","aria-label","category","trnasition","withRouter","List","ListItem","divider","selected","ListItemText","Spinner","Box","CircularProgress","disableShrink","fetchPhones","loadMorePhones","fetchCategories","ownProps","justify","md","lg","content","xs","sm","renderPhone","info","maxWidth","fields","paddingLeft","field","borderBottom","sidebarTitle","backToStore","dark","addToBasket","success","fetchPhoneById","contect","renderSidebar","border","deletePhone","totalPrice","continueShopping","cleanBasket","checkout","BasketTable","handleRemovePhone","TableContainer","Table","TableHead","TableBody","TableRow","TableCell","align","handleCleanBasket","handleCheckout","emptyCart","additionalActions","autoLogin","getItem","isAuthenticated","routes","path","Logout","exact","Phones","Phone","Basket","SignIn","SignUp","middlewares","thunk","store","createStore","createRootReducer","composeWithDevTools","applyMiddleware","ReactDOM","render","ThemeProvider","CssBaseline","Container","fixed","document","getElementById"],"mappings":"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","file":"static/js/main.1b0f5cdc.chunk.js","sourcesContent":["const initialState = {\r\n  token: null\r\n};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case 'AUTH_SUCCESS':\r\n      return { ...state, token: payload };\r\n\r\n    case 'AUTH_LOGOUT':\r\n      return { ...state, token: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","\r\nconst initialState = [];\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case 'FETCH_PHONES_SUCCESS':\r\n      return payload;\r\n\r\n    case 'LOAD_MORE_PHONES_SUCCESS':\r\n      return [...state, ...payload];\r\n\r\n    case 'FETCH_PHONE_BY_ID_SUCCESS':\r\n      const newValue = state.find(phone => phone.id === payload.id);\r\n      if (newValue) {\r\n        return [...state, newValue];\r\n      }\r\n      return [payload];\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialState = {\r\n  ids: [],\r\n  value: \"\",\r\n  loading: false\r\n};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case 'FETCH_PHONES_REQUEST':\r\n      return { ...state, loading: true };\r\n\r\n    case 'FETCH_PHONES_SUCCESS':\r\n      const newValues = payload.map(phone => phone.id);\r\n      return { \r\n        ...state, \r\n        ids: newValues, \r\n        loading: false \r\n      };\r\n\r\n    case 'LOAD_MORE_PHONES_SUCCESS':\r\n      const moreValues = payload.map(phone => phone.id);\r\n      const ids = [...state.ids, ...moreValues];\r\n      return { ...state, ids };\r\n\r\n    case 'SEARCH_PHONE':\r\n      return { ...state, value: payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialState = {\r\n  id: null\r\n};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case 'FETCH_PHONE_BY_ID_SUCCESS':\r\n      return { ...state, id: payload.id };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialState = [];\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case 'ADD_PHONE_TO_BASKET':\r\n      return [...state, payload];\r\n\r\n    case 'DELETE_PHONE_FROM_BASKET':\r\n      return state.filter(id => id !== payload);\r\n\r\n    case 'CLEAN_BASKET':\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialState = [];\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case 'FETCH_CATEGORIES_SUCCESS':\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {combineReducers} from 'redux';\r\n\r\nimport auth from './auth';\r\nimport phones from './phones';\r\nimport phonesPage from './phonesPage';\r\nimport phonePage from './phonePage';\r\nimport basket from './basket';\r\nimport categories from './categories';\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  phones,\r\n  phonesPage,\r\n  phonePage,\r\n  basket,\r\n  categories\r\n});","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\r\nimport { lightBlue, grey } from '@material-ui/core/colors'\r\n\r\nlet theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: lightBlue[800],\r\n    },\r\n    secondary: {\r\n      main: grey[500],\r\n    }\r\n  },\r\n});\r\n\r\nexport default theme = responsiveFontSizes(theme);","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    height: \"100vh\",\r\n    background: \"#63bdf1\",\r\n    position: \"fixed\",\r\n    minWidth: 320,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    background: theme.palette.background.paper,\r\n    padding: theme.spacing(3),\r\n    borderRadius: theme.spacing(.6),\r\n    minWidth: theme.spacing(30),\r\n  },\r\n  header: {\r\n    marginBottom: theme.spacing(2.5),\r\n    '& h4': {\r\n      fontWeight: \"bold\",\r\n    },\r\n  },\r\n  formControl: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: theme.spacing(1.2),\r\n    '& svg': {\r\n      marginTop: theme.spacing(3),\r\n      marginRight: theme.spacing(1.2),\r\n      opacity: .5,\r\n    },\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  recovery: {\r\n    marginTop: theme.spacing(1.2),\r\n  }\r\n}));\r\n\r\nexport default useStyles;","import phones from './mockPhones_image_http';\r\nimport categories from './mockCategories';\r\n\r\nconst phonesURL = 'https://my-project-1559841200510.firebaseio.com/phones/.json';\r\nconst categoriesURL = 'https://my-project-1559841200510.firebaseio.com/categories/.json';\r\n\r\nconst key = 'AIzaSyCpUApD9K5SMQxiiDCLUIvnbclYf1yiyVc';\r\nconst signUpURL = `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${key}`;\r\nconst signInURL = `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${key}`;\r\n\r\nexport const authApi = async (email, password, isLogin) => {\r\n  const url = isLogin ? signInURL : signUpURL;\r\n  const authData = {\r\n    email,\r\n    password,\r\n    returnSecureToken: true\r\n  };\r\n\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(authData),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    }\r\n  });\r\n\r\n  const data = await response.json();\r\n\r\n  const expirationDate = new Date(new Date().getTime() + data.expiresIn * 1000);\r\n\r\n  localStorage.setItem('token', data.idToken);\r\n  localStorage.setItem('user', data.localId);\r\n  localStorage.setItem('expirationDate', expirationDate);\r\n\r\n  if (data.error) {\r\n    return data;\r\n  }\r\n\r\n  return {\r\n    idToken: data.idToken,\r\n    expiresIn: data.expiresIn\r\n  };\r\n};\r\n\r\nconst sendDataToServer = async (url, data) => {\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    });\r\n    const json = await response.json()\r\n    console.log(\"sendDataToServer -> json\", json);\r\n\r\n  } catch (err) {\r\n    console.log(\"sendDataToServer -> err\", err);\r\n  }\r\n};\r\n\r\nexport const sendPhonesToServer = async () => {\r\n  return await sendDataToServer(phonesURL, phones);\r\n};\r\n\r\nexport const sendCategoriesToServer = () => {\r\n  return sendDataToServer(categoriesURL, categories);\r\n};\r\n\r\nexport const fetchData = async url => {\r\n  const response = await fetch(url);\r\n  const json = await response.json();\r\n\r\n  return Object.values(json)[0];\r\n};\r\n\r\nexport const fetchPhonesApi = async () => {\r\n  return await fetchData(phonesURL);\r\n};\r\n\r\nexport const loadMorePhonesApi = async () => {\r\n  return await fetchData(phonesURL);\r\n};\r\n\r\nexport const fetchCategoriesApi = async () => {\r\n  return await fetchData(categoriesURL);\r\n};\r\n\r\nexport const fetchPhoneByIdApi = async id => {\r\n  const phones = await fetchData(phonesURL);\r\n\r\n  return phones.find(phone => phone.id === id);\r\n};","import {\r\n  AUTH_FAILURE,\r\n  AUTH_REQUEST,\r\n  AUTH_SUCCESS,\r\n  AUTH_LOGOUT\r\n} from \"./actionTypes\";\r\n\r\nimport { authApi } from '../../api';\r\n\r\nexport const auth = (email, password, isLogin) => async dispatch => {\r\n  dispatch({\r\n    type: AUTH_REQUEST\r\n  });\r\n\r\n  try {\r\n    const response = await authApi(email, password, isLogin);\r\n\r\n    if (response.error) {\r\n      alert(response.error.message);\r\n    }\r\n\r\n    dispatch(authSuccess(response.idToken));\r\n    dispatch(autoLogout(response.expiresIn * 1000));\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: AUTH_FAILURE,\r\n      payload: err,\r\n      error: true\r\n    });\r\n  }\r\n};\r\n\r\nconst authSuccess = idToken => {\r\n  return {\r\n    type: AUTH_SUCCESS,\r\n    payload: idToken\r\n  };\r\n};\r\n\r\nconst autoLogout = delay => dispatch => {\r\n  const timerId =setTimeout(() => {\r\n    dispatch(logout());\r\n\r\n    clearTimeout(timerId);\r\n  }, delay);\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('expirationDate');\r\n\r\n  return {\r\n    type: AUTH_LOGOUT\r\n  };\r\n};\r\n\r\nexport const autoLogin = () => dispatch => {\r\n  const token = localStorage.getItem('token');\r\n\r\n  if (!token) {\r\n    dispatch(logout());\r\n  \r\n  } else {\r\n    const expirationDate = new Date(localStorage.getItem('expirationDate'));\r\n\r\n    if (expirationDate <= new Date()) {\r\n      dispatch(logout());\r\n    \r\n    } else {\r\n      const delay = expirationDate.getTime() - new Date().getTime();\r\n\r\n      dispatch(authSuccess(token));\r\n      dispatch(autoLogout(delay));\r\n    }\r\n  }\r\n};","\r\nexport const AUTH_REQUEST = 'AUTH_REQUEST';\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\r\nexport const AUTH_FAILURE = 'AUTH_FAILURE';\r\n\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\n\r\nexport const FETCH_PHONES_REQUEST = 'FETCH_PHONES_REQUEST';\r\nexport const FETCH_PHONES_SUCCESS = 'FETCH_PHONES_SUCCESS';\r\nexport const FETCH_PHONES_FAILURE = 'FETCH_PHONES_FAILURE';\r\n\r\nexport const LOAD_MORE_PHONES_REQUEST = 'LOAD_MORE_PHONES_REQUEST';\r\nexport const LOAD_MORE_PHONES_SUCCESS = 'LOAD_MORE_PHONES_SUCCESS';\r\nexport const LOAD_MORE_PHONES_FAILURE = 'LOAD_MORE_PHONES_FAILURE';\r\n\r\nexport const FETCH_PHONE_BY_ID_REQUEST = 'FETCH_PHONE_BY_ID_REQUEST';\r\nexport const FETCH_PHONE_BY_ID_SUCCESS = 'FETCH_PHONE_BY_ID_SUCCESS';\r\nexport const FETCH_PHONE_BY_ID_FAILURE = 'FETCH_PHONE_BY_ID_FAILURE';\r\n\r\nexport const ADD_PHONE_TO_BASKET = 'ADD_PHONE_TO_BASKET';\r\n\r\nexport const SEARCH_PHONE = 'SEARCH_PHONE';\r\n\r\nexport const FETCH_CATEGORIES_REQUEST = 'FETCH_CATEGORIES_REQUEST';\r\nexport const FETCH_CATEGORIES_SUCCESS = 'FETCH_CATEGORIES_SUCCESS';\r\nexport const FETCH_CATEGORIES_FAILURE = 'FETCH_CATEGORIES_FAILURE';\r\n\r\nexport const DELETE_PHONE_FROM_BASKET = 'DELETE_PHONE_FROM_BASKET';\r\n\r\nexport const CLEAN_BASKET = 'CLEAN_BASKET';","\r\nconst validateEmail = email => {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n  return re.test(email.toString().toLowerCase());\r\n}\r\n\r\nexport const validateControl = (value, validation, password) => {\r\n  if (!validation) {\r\n    return true;\r\n  }\r\n\r\n  let isValid = true;\r\n\r\n  if (validation.required) {\r\n    isValid = value.trim() !== '' && isValid;\r\n  }\r\n\r\n  if (validation.email) {\r\n    isValid = validateEmail(value) && isValid;\r\n  }\r\n\r\n  if (validation.minLength) {\r\n    isValid = value.length >= validation.minLength && isValid;\r\n  }\r\n\r\n  if (validation.samePassword) {\r\n    isValid = value === password && isValid;\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\r\nexport const getPhoneById = (state, id) =>\r\n  state.phones.find(phone => phone.id === id);\r\n\r\nexport const getPhones = (state, { match }) => {\r\n  const applySearch = phone => phone.name\r\n    .toLowerCase()\r\n    .indexOf(state.phonesPage.value.toLowerCase()) > -1;\r\n\r\n  const activeCategory = match.params.id || undefined;\r\n  const applyCategory = phone =>\r\n    activeCategory === undefined || activeCategory === phone.categoryId;\r\n\r\n  return state.phonesPage.ids\r\n    .map(id => getPhoneById(state, id))\r\n    .filter(applySearch)\r\n    .filter(applyCategory);\r\n};\r\n\r\nexport const getTotalBasketCount = state => state.basket.length;\r\n\r\nexport const getTotalBasketPrice = state => {\r\n  const applyTotalSum = (current, next) => current + next;\r\n\r\n  return state.basket\r\n    .map(id => getPhoneById(state, id))\r\n    .map(phone => phone.price)\r\n    .reduce(applyTotalSum, 0);\r\n};\r\n\r\nexport const getBasketPhonesWithCount = state => {\r\n  const uniqueId = [...new Set(state.basket)];\r\n  const phoneCount = id => state.basket.filter(basketId => basketId === id).length;\r\n\r\n  return uniqueId\r\n    .map(id => getPhoneById(state, id))\r\n    .map(phone => ({ ...phone, count: phoneCount(phone.id) }));\r\n};","import React, { useState } from 'react';\r\nimport { Typography, TextField, Paper, Button, Grid } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport DraftsTwoToneIcon from '@material-ui/icons/DraftsTwoTone';\r\nimport VpnKeyTwoToneIcon from '@material-ui/icons/VpnKeyTwoTone';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport '../auth.sass';\r\nimport useStyles from '../authStyles';\r\nimport { auth } from '../../../store/actions/authActions';\r\nimport { validateControl } from '../../../selectors';\r\n\r\nconst SignIn = ({ auth }) => {\r\n  const classes = useStyles();\r\n\r\n  const [formControls, setFormControls] = useState({\r\n    email: {\r\n      type: \"email\",\r\n      label: \"Email\",\r\n      value: \"\",\r\n      valid: false,\r\n      touched: false,\r\n      errorMessage: \"Enter correct email.\",\r\n      validation: {\r\n        required: true,\r\n        email: true,\r\n      },\r\n    },\r\n    password: {\r\n      type: \"password\",\r\n      label: \"Password\",\r\n      value: \"\",\r\n      valid: false,\r\n      touched: false,\r\n      errorMessage: \"At least 6 characters.\",\r\n      validation: {\r\n        required: true,\r\n        minLength: 6,\r\n      },\r\n    },\r\n  });\r\n\r\n  const handleChange = controlName => event => {\r\n    const newFormControls = { ...formControls };\r\n    const control = newFormControls[controlName];\r\n\r\n    control.value = event.target.value;\r\n    control.touched = true;\r\n    control.valid = validateControl(control.value, control.validation);\r\n\r\n    setFormControls(newFormControls);\r\n  }\r\n\r\n  const header = (\r\n    <div className={classes.header}>\r\n      <Typography variant=\"h4\" color=\"primary\">\r\n        Sign In\r\n      </Typography>\r\n      <Typography variant=\"h4\" color=\"secondary\">\r\n        Sign Up\r\n      </Typography>\r\n    </div>\r\n  );\r\n\r\n  const renderFormControls = () => {\r\n    return (\r\n      Object.keys(formControls).map((controlName, index) => {\r\n        const control = formControls[controlName];\r\n        const isInvalid = !control.valid && control.touched;\r\n        const helperText = isInvalid\r\n          ? control.errorMessage || \"Incorrect entry.\"\r\n          : \"\";\r\n\r\n        let icon = null;\r\n\r\n        switch (controlName) {\r\n          case 'email':\r\n            icon = <DraftsTwoToneIcon fontSize=\"small\" />\r\n            break;\r\n\r\n          case 'password':\r\n            icon = <VpnKeyTwoToneIcon fontSize=\"small\" />\r\n            break;\r\n\r\n          default:\r\n            icon = null;\r\n        }\r\n\r\n        return (\r\n          <Grid container key={index} className={classes.formControl}>\r\n            <Grid item>\r\n              {icon}\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                id={controlName + index}\r\n                type={control.type}\r\n                label={control.label}\r\n                value={control.value}\r\n                error={isInvalid}\r\n                helperText={helperText}\r\n                onChange={handleChange(controlName)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  const handleClickSignIn = () => auth(\r\n    formControls.email.value,\r\n    formControls.password.value,\r\n    true\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper elevation={3}>\r\n        <form className={classes.form}>\r\n\r\n          {header}\r\n\r\n          {renderFormControls()}\r\n\r\n          <Link to=\"/recovery\" className=\"form__link\" >\r\n            Forgot password?\r\n          </Link>\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button}\r\n            onClick={handleClickSignIn}\r\n          >\r\n            Sign In\r\n          </Button>\r\n\r\n          <Link to=\"/sign-in\" className=\"form__link form__link_policy\">\r\n            Privacy Policy\r\n          </Link>\r\n\r\n          <Link to=\"/\" className=\"form__link form__link_cancel\">\r\n            Cancel\r\n          </Link>\r\n\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  auth\r\n};\r\n\r\nSignIn.propTypes = {\r\n  auth: PropTypes.func,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(SignIn);","import React, { useState } from 'react';\r\nimport { Typography, TextField, Paper, Button, Grid } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport DraftsTwoToneIcon from '@material-ui/icons/DraftsTwoTone';\r\nimport VpnKeyTwoToneIcon from '@material-ui/icons/VpnKeyTwoTone';\r\nimport LockOpenTwoToneIcon from '@material-ui/icons/LockOpenTwoTone';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport '../auth.sass';\r\nimport useStyles from '../authStyles';\r\nimport { auth } from '../../../store/actions/authActions';\r\nimport { validateControl } from '../../../selectors';\r\n\r\nconst SignUp = ({ auth }) => {\r\n  const classes = useStyles();\r\n\r\n  const [formControls, setFormControls] = useState({\r\n    email: {\r\n      type: \"email\",\r\n      label: \"Email\",\r\n      value: \"\",\r\n      valid: false,\r\n      touched: false,\r\n      errorMessage: \"Enter correct email.\",\r\n      validation: {\r\n        required: true,\r\n        email: true,\r\n      },\r\n    },\r\n    password: {\r\n      type: \"password\",\r\n      label: \"Password\",\r\n      value: \"\",\r\n      valid: false,\r\n      touched: false,\r\n      errorMessage: \"At least 6 characters.\",\r\n      validation: {\r\n        required: true,\r\n        minLength: 6,\r\n      },\r\n    },\r\n    verifyPassword: {\r\n      type: \"password\",\r\n      label: \"Verify Password\",\r\n      value: \"\",\r\n      valid: false,\r\n      touched: false,\r\n      errorMessage: \"Enter correct password.\",\r\n      validation: {\r\n        required: true,\r\n        samePassword: true,\r\n      },\r\n    },\r\n  });\r\n\r\n  const handleChange = controlName => event => {\r\n    const newFormControls = { ...formControls };\r\n    const control = newFormControls[controlName];\r\n\r\n    control.value = event.target.value;\r\n    control.touched = true;\r\n    control.valid = validateControl(\r\n      control.value,\r\n      control.validation,\r\n      formControls.password.value\r\n    );\r\n\r\n    setFormControls(newFormControls);\r\n  }\r\n\r\n  const header = (\r\n    <div className={classes.header}>\r\n      <Typography variant=\"h4\" color=\"secondary\">\r\n        Sign In\r\n      </Typography>\r\n      <Typography variant=\"h4\" color=\"primary\">\r\n        Sign Up\r\n      </Typography>\r\n    </div>\r\n  );\r\n\r\n  const renderFormControls = () => {\r\n    return (\r\n      Object.keys(formControls).map((controlName, index) => {\r\n        const control = formControls[controlName];\r\n        const isInvalid = !control.valid && control.touched;\r\n        const helperText = isInvalid\r\n          ? control.errorMessage || \"Incorrect entry.\"\r\n          : \"\";\r\n\r\n        let icon = null;\r\n\r\n        switch (controlName) {\r\n          case 'email':\r\n            icon = <DraftsTwoToneIcon fontSize=\"small\" />\r\n            break;\r\n\r\n          case 'password':\r\n            icon = <VpnKeyTwoToneIcon fontSize=\"small\" />\r\n            break;\r\n\r\n          case 'verifyPassword':\r\n            icon = <LockOpenTwoToneIcon fontSize=\"small\" />\r\n            break;\r\n\r\n          default:\r\n            icon = null;\r\n        }\r\n\r\n        return (\r\n          <Grid container key={index} className={classes.formControl}>\r\n            <Grid item>\r\n              {icon}\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                id={controlName + index}\r\n                type={control.type}\r\n                label={control.label}\r\n                value={control.value}\r\n                error={isInvalid}\r\n                helperText={helperText}\r\n                onChange={handleChange(controlName)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  const handleClickSignUp = () => auth(\r\n    formControls.email.value,\r\n    formControls.password.value,\r\n    false\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper elevation={3}>\r\n        <form className={classes.form}>\r\n\r\n          {header}\r\n\r\n          {renderFormControls()}\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button}\r\n            onClick={handleClickSignUp}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n\r\n          <Link to=\"/sign-up\" className=\"form__link form__link_policy\">\r\n            Privacy Policy\r\n          </Link>\r\n\r\n          <Link to=\"/\" className=\"form__link form__link_cancel\">\r\n            Cancel\r\n          </Link>\r\n\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  auth\r\n};\r\n\r\nSignUp.propTypes = {\r\n  auth: PropTypes.func,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUp);","import React, { useState } from 'react';\r\nimport { Typography, TextField, Paper, Button, Grid } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport DraftsTwoToneIcon from '@material-ui/icons/DraftsTwoTone';\r\n\r\nimport '../auth.sass';\r\nimport useStyles from '../authStyles';\r\nimport { validateControl } from '../../../selectors';\r\n\r\nconst Recovery = () => {\r\n  const classes = useStyles();\r\n\r\n  const [formControls, setFormControls] = useState({\r\n    email: {\r\n      type: \"email\",\r\n      label: \"Email\",\r\n      value: \"\",\r\n      valid: false,\r\n      touched: false,\r\n      errorMessage: \"Enter correct email.\",\r\n      validation: {\r\n        required: true,\r\n        email: true,\r\n      },\r\n    },\r\n  });\r\n\r\n  const handleChange = controlName => event => {\r\n    const newFormControls = { ...formControls };\r\n    const control = newFormControls[controlName];\r\n\r\n    control.value = event.target.value;\r\n    control.touched = true;\r\n    control.valid = validateControl(control.value, control.validation);\r\n\r\n    setFormControls(newFormControls);\r\n  };\r\n\r\n  const renderFormControls = () => {\r\n    return (\r\n      Object.keys(formControls).map((controlName, index) => {\r\n        const control = formControls[controlName];\r\n        const isInvalid = !control.valid && control.touched;\r\n        const helperText = isInvalid\r\n          ? control.errorMessage || \"Incorrect entry.\"\r\n          : \"\";\r\n\r\n        return (\r\n          <Grid container className={classes.formControl} key={index}>\r\n            <Grid item>\r\n              <DraftsTwoToneIcon fontSize=\"small\" />\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                id={controlName + index}\r\n                type={control.type}\r\n                label={control.label}\r\n                value={control.value}\r\n                error={isInvalid}\r\n                helperText={helperText}\r\n                onChange={handleChange(controlName)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper elevation={3}>\r\n        <form className={classes.form}>\r\n\r\n          <div className={classes.header}>\r\n            <Typography variant=\"h4\" color=\"primary\">\r\n              Recovery\r\n            </Typography>\r\n          </div>\r\n\r\n          {renderFormControls()}\r\n\r\n          <Button variant=\"contained\" color=\"primary\" className={classes.recovery}>\r\n            Recovery\r\n          </Button>\r\n\r\n          <Link to=\"/\" className=\"form__link form__link_cancel\">\r\n            Cancel\r\n          </Link>\r\n\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Recovery;","import React, { useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { logout } from '../../../store/actions/authActions';\r\n\r\nconst Logout = ({ logout }) => {\r\n  useEffect(() => {\r\n    logout();\r\n  });\r\n\r\n  return (\r\n    <Redirect to=\"/\" />\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch(logout())\r\n  };\r\n};\r\n\r\nLogout.propTypes = {\r\n  logout: PropTypes.func,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout);","\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    marginTop: theme.spacing(2.5),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginTop: theme.spacing(4.5),\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      marginTop: theme.spacing(6),\r\n    },\r\n  },\r\n  sidebar: {\r\n    display: \"block\",\r\n    [theme.breakpoints.down(\"lg\")]: {\r\n      marginBottom: theme.spacing(4),\r\n    },\r\n  },\r\n  card: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      margin: \"0 auto\",\r\n    },\r\n  },\r\n  loadMore: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"100%\",\r\n    margin: theme.spacing(4, 0, 6.5, 0),\r\n  },\r\n}));","\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nexport default makeStyles(theme => (\r\n  {\r\n    root: {\r\n      marginTop: 95,\r\n    },\r\n    title: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-between\",\r\n      alignItems: \"baseline\",\r\n\r\n      '& a': {\r\n        color: \"#007bff\",\r\n        textDecoration: \"none\",\r\n\r\n        '&:hover': {\r\n          textDecoration: \"underline\",\r\n        },\r\n      },\r\n\r\n      '& span': {\r\n        fontSize: \"1.2rem\",\r\n        fontWeight: \"bold\",\r\n      },\r\n    },\r\n    link: {\r\n      color: \"#0277bd\",\r\n      textDecoration: \"none\",\r\n    },\r\n  }\r\n));","\r\nimport { \r\n  FETCH_PHONES_REQUEST, \r\n  FETCH_PHONES_SUCCESS, \r\n  FETCH_PHONES_FAILURE, \r\n  LOAD_MORE_PHONES_REQUEST,\r\n  LOAD_MORE_PHONES_SUCCESS,\r\n  LOAD_MORE_PHONES_FAILURE,\r\n  FETCH_PHONE_BY_ID_REQUEST,\r\n  FETCH_PHONE_BY_ID_SUCCESS,\r\n  FETCH_PHONE_BY_ID_FAILURE,\r\n  ADD_PHONE_TO_BASKET,\r\n  SEARCH_PHONE,\r\n  FETCH_CATEGORIES_REQUEST,\r\n  FETCH_CATEGORIES_SUCCESS,\r\n  FETCH_CATEGORIES_FAILURE,\r\n  DELETE_PHONE_FROM_BASKET,\r\n  CLEAN_BASKET\r\n} from \"./actionTypes\";\r\n\r\nimport { \r\n  fetchPhonesApi, \r\n  loadMorePhonesApi, \r\n  fetchPhoneByIdApi, \r\n  fetchCategoriesApi\r\n} from '../../api';\r\n// } from '../../api/mockApi';\r\n\r\nexport const fetchPhones = () => async dispatch => {\r\n  dispatch({\r\n    type: FETCH_PHONES_REQUEST\r\n  });\r\n\r\n  try {\r\n    const response = await fetchPhonesApi();\r\n    dispatch({\r\n      type: FETCH_PHONES_SUCCESS,\r\n      payload: response\r\n    });\r\n  \r\n  } catch (err) {\r\n    dispatch({\r\n      type: FETCH_PHONES_FAILURE,\r\n      payload: err,\r\n      error: true\r\n    });\r\n  }\r\n};\r\n\r\nexport const loadMorePhones = () => async dispatch => {\r\n  dispatch({\r\n    type: LOAD_MORE_PHONES_REQUEST\r\n  });\r\n\r\n  try {\r\n    const response = await loadMorePhonesApi();\r\n    dispatch({\r\n      type: LOAD_MORE_PHONES_SUCCESS,\r\n      payload: response\r\n    });\r\n  \r\n  } catch (err) {\r\n    dispatch({\r\n      type: LOAD_MORE_PHONES_FAILURE,\r\n      payload: err,\r\n      error: true\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchPhoneById = id => async dispatch => {\r\n  dispatch({\r\n    type: FETCH_PHONE_BY_ID_REQUEST\r\n  });\r\n\r\n  try {\r\n    const response = await fetchPhoneByIdApi(id);\r\n    dispatch({\r\n      type: FETCH_PHONE_BY_ID_SUCCESS,\r\n      payload: response\r\n    });\r\n  \r\n  } catch (err) {\r\n    dispatch({\r\n      type: FETCH_PHONE_BY_ID_FAILURE,\r\n      payload: err,\r\n      error: true\r\n    });\r\n  }\r\n};\r\n\r\nexport const addPhoneToBasket = id => dispatch => {\r\n  dispatch({\r\n    type: ADD_PHONE_TO_BASKET,\r\n    payload: id\r\n  });\r\n};\r\n\r\nexport const searchPhone = value => dispatch => {\r\n  dispatch({\r\n    type: SEARCH_PHONE,\r\n    payload: value\r\n  });\r\n};\r\n\r\nexport const fetchCategories = () => async dispatch => {\r\n  dispatch({\r\n    type: FETCH_CATEGORIES_REQUEST\r\n  });\r\n\r\n  try {\r\n    const response = await fetchCategoriesApi();\r\n    dispatch({\r\n      type: FETCH_CATEGORIES_SUCCESS,\r\n      payload: response\r\n    });\r\n  \r\n  } catch (err) {\r\n    dispatch({\r\n      type: FETCH_CATEGORIES_FAILURE,\r\n      payload: err,\r\n      error: true\r\n    });\r\n  }\r\n};\r\n\r\nexport const handleRemovePhone = id => dispatch => {\r\n  dispatch({\r\n    type: DELETE_PHONE_FROM_BASKET,\r\n    payload: id\r\n  });\r\n};\r\n\r\nexport const handleCleanBasket = () => dispatch => {\r\n  dispatch({\r\n    type: CLEAN_BASKET\r\n  });\r\n};\r\n\r\nexport const handleCheckout = phones => () => () => alert(JSON.stringify(phones));","\r\nimport React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport useStyles from './styles';\r\nimport { addPhoneToBasket } from '../../store/actions/phonesActions';\r\n\r\nconst PhoneCard = ({ phone, addPhoneToBasket }) => {\r\n  const classes = useStyles();\r\n  const shortDescription = `${phone.description.slice(0, 61)}...`;\r\n\r\n  const handleAddPhoneToBasket = id => () => addPhoneToBasket(id);\r\n\r\n  return (\r\n    <Card raised>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={phone.name}\r\n          src={phone.image}\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" componnet=\"h2\" className={classes.title}>\r\n            <Link to={`/phones/${phone.id}`}>\r\n              {phone.name}\r\n            </Link>\r\n            <span>${phone.price}</span>\r\n          </Typography>\r\n\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {shortDescription}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n\r\n      <CardActions>\r\n        <Button color=\"primary\" onClick={handleAddPhoneToBasket(phone.id)}>\r\n          Buy now!\r\n        </Button>\r\n\r\n        <Link to={`/phones/${phone.id}`} className={classes.link}>\r\n          <Button color=\"primary\">\r\n            Learn More\r\n          </Button>\r\n        </Link>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  addPhoneToBasket\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(PhoneCard);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, makeStyles } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getTotalBasketCount, getTotalBasketPrice } from '../../selectors';\r\n\r\nconst useStyles = makeStyles({\r\n  link: {\r\n    textDecoration: \"none\",\r\n    width: \"100%\",\r\n    '& button': {\r\n      textTransform: \"none\",\r\n    },\r\n  },\r\n});\r\n\r\nconst BasketCart = ({ totalBasketCount, totalBasketPrice }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Link to=\"/basket\" className={classes.link}>\r\n      <Button startIcon={<ShoppingCartIcon/>} variant=\"contained\" color=\"primary\" fullWidth>\r\n        {totalBasketCount} item(s) - $ {totalBasketPrice}\r\n      </Button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    totalBasketCount: getTotalBasketCount(state),\r\n    totalBasketPrice: getTotalBasketPrice(state)\r\n  };\r\n};\r\n\r\nBasketCart.propTypes = {\r\n  totalBasketCount: PropTypes.number,\r\n  totalBasketPrice: PropTypes.number,\r\n};\r\n\r\nexport default connect(mapStateToProps)(BasketCart);","import React, { useState } from 'react';\r\nimport { makeStyles, TextField, IconButton } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { searchPhone } from '../../store/actions/phonesActions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(7.5, 3),\r\n    background: theme.palette.grey[200],\r\n    marginBottom: theme.spacing(4),\r\n    '& form': {\r\n      display: \"flex\",\r\n      position: \"relative\",\r\n      '& > div': {\r\n        width: \"100%\",\r\n      },\r\n    },\r\n    '& input': {\r\n      background: \"white\",\r\n    },\r\n    '& button': {\r\n      position: \"absolute\",\r\n      top: 5,\r\n      right: 5,\r\n    },\r\n  },\r\n}));\r\n\r\nconst Search = ({ searchPhone }) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState('');\r\n\r\n  const handleSearch = event => setValue(event.target.value);\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    searchPhone(value);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          id=\"search\"\r\n          variant=\"outlined\"\r\n          label=\"Search\"\r\n          value={value}\r\n          onChange={handleSearch}\r\n        />\r\n        <IconButton type=\"submit\" aria-label=\"search\">\r\n          <SearchIcon />\r\n        </IconButton>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  searchPhone\r\n};\r\n\r\nSearch.propTypes = {\r\n  searchPhone: PropTypes.func,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Search);","import { makeStyles } from \"@material-ui/core\";\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(6.5, 3.5, 8, 3.5),\r\n    background: theme.palette.grey[200],\r\n    '& nav': {\r\n      background: theme.palette.background.paper,\r\n      padding: 0,\r\n    },\r\n  },\r\n  category: {\r\n    padding: 0,\r\n    '& a': {\r\n      width: \"100%\",\r\n      padding: theme.spacing(1, 2),\r\n      textDecoration: \"none\",\r\n      color: \"inherit\",\r\n    },\r\n    '& span': {\r\n      fontSize: \"1.3rem\",\r\n    },\r\n    '&.Mui-selected': {\r\n      background: [theme.palette.primary.main],\r\n      color: theme.palette.background.paper,\r\n      trnasition: \"0.3s\",\r\n      '&:hover': {\r\n        background: [theme.palette.primary.main],\r\n      },\r\n    },\r\n  },\r\n}));","import React from 'react';\r\nimport { Typography, List, ListItem, ListItemText } from '@material-ui/core';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useStyles from './styles';\r\n\r\nconst Categories = ({ categories, match }) => {\r\n  const classes = useStyles();\r\n  const activeCategory = match.params.id || undefined;\r\n\r\n  const renderAllCategories = () => {\r\n    return (\r\n      <ListItem\r\n        button\r\n        divider\r\n        selected={activeCategory === undefined}\r\n        className={classes.category}\r\n      >\r\n        <Link to=\"/\">\r\n          <ListItemText primary=\"All\" />\r\n        </Link>\r\n      </ListItem>\r\n    );\r\n  };\r\n\r\n  const renderCategories = () => {\r\n    return (\r\n      categories.map(category => (\r\n        <ListItem\r\n          button\r\n          divider\r\n          key={category.id}\r\n          selected={category.id === activeCategory}\r\n          className={classes.category}\r\n        >\r\n          <Link to={`/categories/${category.id}`}>\r\n            <ListItemText primary={category.name} />\r\n          </Link>\r\n        </ListItem>\r\n      ))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography gutterBottom variant=\"h4\">\r\n        Brand\r\n      </Typography>\r\n\r\n      <List component=\"nav\">\r\n        {renderAllCategories()}\r\n        {renderCategories()}\r\n      </List>\r\n    </div>\r\n  );\r\n};\r\n\r\nCategories.propTypes = {\r\n  categories: PropTypes.arrayOf(PropTypes.object),\r\n  match: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(Categories);","import React from 'react';\r\nimport { CircularProgress, Box } from '@material-ui/core';\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <Box\r\n      height=\"100vh\"\r\n      display=\"flex\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n    >\r\n      <CircularProgress disableShrink />\r\n    </Box>\r\n  );\r\n}","import React, { useEffect, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Grid, Button } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useStyles from './styles';\r\nimport PhoneCard from '../../components/PhoneCard';\r\nimport BasketCart from '../../components/BasketCart';\r\nimport Search from '../../components/Search';\r\nimport { fetchPhones, loadMorePhones, fetchCategories } from '../../store/actions/phonesActions';\r\nimport { getPhones } from '../../selectors';\r\nimport Categories from '../../components/Categories';\r\nimport Spinner from '../../components/Spinner';\r\n\r\nconst Phones = ({ \r\n  fetchPhones, \r\n  phones, \r\n  loadMorePhones,\r\n  fetchCategories, \r\n  categories,\r\n  loading\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    fetchPhones();\r\n    fetchCategories();\r\n  }, [fetchPhones, fetchCategories]);\r\n\r\n  const renderPhone = (phone, index) => {\r\n    return (\r\n      <Grid item xs={10} sm={6} md={6} lg={4} key={index} className={classes.card}>\r\n        <PhoneCard phone={phone} />\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const handleLoadMore = () => loadMorePhones();\r\n\r\n  if (loading) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container justify=\"space-between\">\r\n        <Grid container item md={4} lg={3} className={classes.sidebar}>\r\n          <BasketCart />\r\n          <Search />\r\n          <Categories categories={categories} />\r\n        </Grid>\r\n\r\n        <Fragment>\r\n          <Grid container item md={8} lg={9} spacing={4} className={classes.content}>\r\n            {phones.map((phone, index) => renderPhone(phone, index))}\r\n          </Grid>\r\n\r\n          <div className={classes.loadMore}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleLoadMore}>\r\n              Load More\r\n            </Button>\r\n          </div>\r\n        </Fragment>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    phones: getPhones(state, ownProps),\r\n    categories: state.categories,\r\n    loading: state.phonesPage.loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  fetchPhones,\r\n  loadMorePhones,\r\n  fetchCategories\r\n};\r\n\r\nPhones.propTypes = {\r\n  fetchPhones: PropTypes.func,\r\n  phones: PropTypes.arrayOf(PropTypes.object),\r\n  loadMorePhones: PropTypes.func,\r\n  fetchCategories: PropTypes.func,\r\n  categories: PropTypes.arrayOf(PropTypes.object),\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Phones)","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    marginTop: theme.spacing(2.5),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginTop: theme.spacing(4.5),\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      marginTop: theme.spacing(6),\r\n    },\r\n  },\r\n  info:{\r\n    marginBottom: theme.spacing(2.5),\r\n  },\r\n  image: {\r\n    maxWidth: theme.spacing(38),\r\n    marginBottom: theme.spacing(3.8),\r\n  },\r\n  fields: {\r\n    paddingLeft: theme.spacing(1.5),\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"baseline\",\r\n    '& span': {\r\n      fontSize: \"1.3rem\",\r\n      fontWeight: \"bold\",\r\n    },\r\n  },\r\n  field: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(1.2, 0),\r\n    borderBottom: \"1px dotted #ccc\",\r\n    '& h6': {\r\n      marginRight: theme.spacing(1.2),\r\n    },\r\n  },\r\n  sidebarTitle: {\r\n    marginTop: theme.spacing(2.5),\r\n  },\r\n  backToStore: {\r\n    margin: theme.spacing(2, 0),\r\n    display: \"block\",\r\n    textDecoration: \"none\",\r\n    '& button': {\r\n      color: theme.palette.background.paper,\r\n      background: theme.palette.info.main,\r\n      trnasition: \"0.3s\",\r\n      '&:hover': {\r\n        background: theme.palette.info.dark,\r\n      },\r\n    },\r\n  },\r\n  addToBasket: {\r\n    color: theme.palette.background.paper,\r\n    background: theme.palette.success.main,\r\n    '&:hover': {\r\n      background: theme.palette.success.dark,\r\n    },\r\n  },\r\n}));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Grid, Card, CardContent, CardMedia, Typography, Button } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useStyles from './styles';\r\nimport { fetchPhoneById, addPhoneToBasket } from '../../store/actions/phonesActions';\r\nimport { getPhoneById } from '../../selectors';\r\nimport BasketCart from '../../components/BasketCart';\r\nimport Spinner from '../../components/Spinner';\r\n\r\nconst Phone = ({ \r\n  fetchPhoneById, \r\n  match, \r\n  phone, \r\n  addPhoneToBasket, \r\n}) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    fetchPhoneById(match.params.id);\r\n  });\r\n\r\n  const renderFields = () => {\r\n    const fields = Object.keys(phone).filter(key => (\r\n      key === 'cpu' ||\r\n      key === 'size' ||\r\n      key === 'weight' ||\r\n      key === 'display' ||\r\n      key === 'memory' ||\r\n      key === 'battery'\r\n    ));\r\n\r\n    return (\r\n      fields.map(field => (\r\n        <div className={classes.field} key={field}>\r\n          <Typography variant=\"h6\">\r\n            {field}\r\n          </Typography>\r\n          <Typography variant=\"body2\">\r\n            {phone[field]}\r\n          </Typography>\r\n        </div>\r\n      ))\r\n    );\r\n  };\r\n\r\n  const renderPhone = () => {\r\n    return (\r\n      <Card raised >\r\n        <CardContent>\r\n          <Grid container className={classes.info}>\r\n            <Grid item xs={12} md={6}>\r\n              <CardMedia\r\n                component=\"img\"\r\n                src={phone.image}\r\n                alt={phone.name}\r\n                className={classes.image}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6} className={classes.fields}>\r\n              {renderFields()}\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <div className={classes.title}>\r\n            <Typography gutterBottom variant=\"h4\">\r\n              {phone.name}\r\n            </Typography>\r\n            <span>${phone.price}</span>\r\n          </div>\r\n\r\n          <Typography variant=\"body1\">\r\n            {phone.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const handleAddPhoneToBasket = id => () => addPhoneToBasket(id);\r\n\r\n  const renderSidebar = () => {\r\n    return (\r\n      <div>\r\n        <Typography gutterBottom variant=\"h5\">\r\n          Quick Shop\r\n        </Typography>\r\n\r\n        <BasketCart />\r\n\r\n        <Typography variant=\"h4\" className={classes.sidebarTitle}>\r\n          {phone.name}\r\n        </Typography>\r\n        <Typography variant=\"h4\">\r\n          ${phone.price}\r\n        </Typography>\r\n\r\n        <Link to=\"/\" className={classes.backToStore}>\r\n          <Button variant=\"contained\" fullWidth>\r\n            Back to Store\r\n          </Button>\r\n        </Link>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          className={classes.addToBasket}\r\n          fullWidth\r\n          onClick={handleAddPhoneToBasket(phone.id)}\r\n        >\r\n          Add to Cart\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (!phone) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={5}>\r\n        <Grid item xs={12} md={8} lg={9} className={classes.contect}>\r\n          {phone && renderPhone()}\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4} lg={3} className={classes.sidebar}>\r\n          {phone && renderSidebar()}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    phone: getPhoneById(state, state.phonePage.id)\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  fetchPhoneById,\r\n  addPhoneToBasket\r\n}\r\n\r\nPhone.propTypes = {\r\n  fetchPhoneById: PropTypes.func,\r\n  match: PropTypes.object,\r\n  phone: PropTypes.object,\r\n  addPhoneToBasket: PropTypes.func,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Phone);","\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    marginTop: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginTop: theme.spacing(4.5),\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      marginTop: theme.spacing(6.5),\r\n    },\r\n    '& table tr:nth-of-type(even)': {\r\n      background: theme.palette.grey[100],\r\n    },\r\n    '& table td': {\r\n      padding: theme.spacing(.6),\r\n      border: \"1px solid #ccc\",\r\n    },\r\n    '& table td:last-child': {\r\n      width: \"12%\",\r\n    },\r\n  },\r\n  image: {\r\n    width: \"12%\",\r\n    '& img': {\r\n      maxWidth: theme.spacing(12.5)\r\n    },\r\n  },\r\n  deletePhone: {\r\n    '&:hover': {\r\n      color: [theme.palette.error.main],\r\n    }\r\n  },\r\n  totalPrice: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    margin: theme.spacing(2, 0),\r\n    '& b': {\r\n      marginRight: theme.spacing(.6),\r\n    },\r\n  },\r\n  continueShopping: {\r\n    display: \"block\",\r\n    textDecoration: \"none\",\r\n    borderRadius: theme.spacing(.6),\r\n    marginBottom: theme.spacing(1.2),\r\n    background: [theme.palette.info.main],\r\n    '&:hover': {\r\n      background: [theme.palette.info.dark],\r\n    },\r\n    '& span': {\r\n      color: theme.palette.background.paper,\r\n    },\r\n  },\r\n  cleanBasket: {\r\n    background: [theme.palette.error.main],\r\n    '&:hover': {\r\n      background: [theme.palette.error.dark],\r\n    },\r\n    color: theme.palette.background.paper,\r\n    marginBottom: theme.spacing(1.2),\r\n  },\r\n  checkout: {\r\n    background: [theme.palette.success.main],\r\n    '&:hover': {\r\n      background: [theme.palette.success.dark],\r\n    },\r\n    color: theme.palette.background.paper,\r\n  },\r\n}));","import React from 'react';\r\nimport {\r\n  TableContainer, Table, TableHead, TableBody,\r\n  Paper, TableRow, TableCell, IconButton\r\n} from '@material-ui/core';\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useStyles from '../styles';\r\n\r\nconst BasketTable = ({ phones, handleRemovePhone }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table aria-label=\"basket table\">\r\n        <TableHead></TableHead>\r\n        <TableBody>\r\n          {phones.map(phone => (\r\n            <TableRow key={phone.name}>\r\n              <TableCell align=\"center\" className={classes.image}>\r\n                <img src={phone.image} alt={phone.name} />\r\n              </TableCell>\r\n              <TableCell align=\"center\">{phone.name}</TableCell>\r\n              <TableCell align=\"center\">${phone.price}</TableCell>\r\n              <TableCell align=\"center\">{phone.count}</TableCell>\r\n              <TableCell align=\"center\">\r\n                <IconButton\r\n                  className={classes.deletePhone}\r\n                  onClick={() => handleRemovePhone(phone.id)}\r\n                >\r\n                  <DeleteForeverTwoToneIcon />\r\n                </IconButton>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nBasketTable.propTypes = {\r\n  phones: PropTypes.arrayOf(PropTypes.object),\r\n  handleRemovePhone: PropTypes.func,\r\n};\r\n\r\nexport default BasketTable;","import React, { Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Grid, Typography, Button } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\nimport MailOutlineTwoToneIcon from '@material-ui/icons/MailOutlineTwoTone';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useStyles from './styles';\r\nimport BasketTable from './BasketTable';\r\nimport { getBasketPhonesWithCount, getTotalBasketPrice } from '../../selectors';\r\nimport { handleRemovePhone, handleCleanBasket, handleCheckout } from '../../store/actions/phonesActions';\r\n\r\nconst Basket = ({\r\n  phones,\r\n  totalBasketPrice,\r\n  handleRemovePhone,\r\n  handleCleanBasket,\r\n  handleCheckout\r\n}) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  const emptyCart = (\r\n    <Typography variant=\"h4\">\r\n      Your shopping cart is empty.\r\n    </Typography>\r\n  );\r\n\r\n  const totalPrice = (\r\n    <div className={classes.totalPrice}>\r\n      <b>Total:</b>${totalBasketPrice}\r\n    </div>\r\n  );\r\n\r\n  const additionalActions = (\r\n    <Fragment>\r\n      <Button\r\n        fullWidth\r\n        startIcon={<DeleteForeverOutlinedIcon />}\r\n        className={classes.cleanBasket}\r\n        onClick={handleCleanBasket}\r\n      >\r\n        Clean Basket\r\n      </Button>\r\n      <Button\r\n        fullWidth\r\n        startIcon={<MailOutlineTwoToneIcon />}\r\n        className={classes.checkout}\r\n        onClick={handleCheckout(phones)}\r\n      >\r\n        Checkout\r\n      </Button>\r\n    </Fragment>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4}>\r\n        <Grid item xs={12} md={8} lg={9}>\r\n          {(phones.length === 0) && emptyCart}\r\n          <BasketTable phones={phones} handleRemovePhone={handleRemovePhone} />\r\n          {(phones.length > 0) && totalPrice}\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4} lg={3}>\r\n          <Link to=\"/\" className={classes.continueShopping}>\r\n            <Button fullWidth startIcon={<InfoOutlinedIcon />}>\r\n              Continue shopping!\r\n            </Button>\r\n          </Link>\r\n\r\n          {(phones.length > 0) && additionalActions}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    phones: getBasketPhonesWithCount(state),\r\n    totalBasketPrice: getTotalBasketPrice(state)\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  handleRemovePhone,\r\n  handleCleanBasket,\r\n  handleCheckout\r\n};\r\n\r\nBasket.propTypes = {\r\n  phones: PropTypes.arrayOf(PropTypes.object),\r\n  totalBasketPrice: PropTypes.number,\r\n  handleRemovePhone: PropTypes.func,\r\n  handleCleanBasket: PropTypes.func,\r\n  handleCheckout: PropTypes.func\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Basket);","import React, { useEffect } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport SignIn from './containers/auth/SignIn';\r\nimport SignUp from './containers/auth/SignUp';\r\nimport Recovery from './containers/auth/Recovery';\r\nimport Logout from './containers/auth/Logout';\r\nimport { autoLogin } from './store/actions/authActions';\r\nimport Phones from './containers/Phones';\r\nimport Phone from './containers/Phone';\r\nimport Basket from './containers/Basket';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 320,\r\n  },\r\n})\r\n\r\nconst Routes = ({ isAuthenticated, autoLogin }) => {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    autoLogin();\r\n  });\r\n\r\n  const routes = isAuthenticated\r\n    ? (\r\n      <Switch>\r\n        <Route path='/logout' component={Logout} />\r\n        <Route exact path='/' component={Phones} />\r\n        <Route path=\"/phones/:id\" component={Phone} />\r\n        <Route path=\"/categories/:id\" component={Phones} />\r\n        <Route path=\"/basket\" component={Basket} />\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n    : (\r\n      <Switch>\r\n        <Route path='/sign-in' component={SignIn} />\r\n        <Route path='/sign-up' component={SignUp} />\r\n        <Route path='/recovery' component={Recovery} />\r\n        <Route exact path='/' component={Phones} />\r\n        <Route path=\"/phones/:id\" component={Phone} />\r\n        <Route path=\"/categories/:id\" component={Phones} />\r\n        <Route path=\"/basket\" component={Basket} />\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {routes}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: !!state.auth.token,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  autoLogin\r\n};\r\n\r\nRoutes.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  autoLogin: PropTypes.func,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Routes);","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { Provider } from 'react-redux';\nimport { CssBaseline, ThemeProvider, Container } from '@material-ui/core';\nimport { HashRouter } from 'react-router-dom'\nimport createRootReducer from './store/reducers';\nimport theme from './theme';\n// import TopLine from './containers/TopLine';  // --- contains authentication feature\nimport Routes from './Routes';\n\nconst middlewares = [thunk];\nconst store = createStore(\n  createRootReducer,\n  composeWithDevTools(applyMiddleware(...middlewares))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Container fixed>\n          {/* <TopLine /> */}\n          <Routes />\n        </Container>\n      </ThemeProvider>\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}